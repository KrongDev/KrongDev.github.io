# ë°°í¬ ìë™í™” ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

GitHub Actionsë¥¼ í†µí•´ `_posts/` í´ë”ì˜ ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì„ ê¸°ë°˜ìœ¼ë¡œ ìë™ìœ¼ë¡œ ë©”íƒ€ë°ì´í„°ë¥¼ ìƒì„±í•˜ê³  ë°°í¬í•©ë‹ˆë‹¤.

---

## ğŸ”„ ìë™í™” í”„ë¡œì„¸ìŠ¤

### 1. íŠ¸ë¦¬ê±° ì¡°ê±´

- **ìë™ ë°°í¬**: `main` ë¸Œëœì¹˜ì— `push` ì‹œ
- **ìˆ˜ë™ ë°°í¬**: GitHub Actions íƒ­ì—ì„œ "Run workflow" í´ë¦­

### 2. ë°°í¬ ë‹¨ê³„

```mermaid
graph LR
    A[Git Push] --> B[Checkout]
    B --> C[Node.js Setup]
    C --> D[Dependencies Install]
    D --> E[Generate Metadata]
    E --> F[Verify Metadata]
    F --> G[Build App]
    G --> H[Verify Build]
    H --> I[Deploy to Pages]
```

#### ìƒì„¸ ë‹¨ê³„:

1. **Checkout Repository** âœ…
   - ì „ì²´ ì½”ë“œì™€ `_posts/` í´ë”ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤

2. **Setup Node.js** âœ…
   - Node.js 20 ë²„ì „ì„ ì„¤ì •í•©ë‹ˆë‹¤

3. **Install Dependencies** âœ…
   - í•„ìš”í•œ npm íŒ¨í‚¤ì§€ë“¤ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤

4. **Generate Metadata from _posts** âœ… (í•µì‹¬)
   ```bash
   npm run build:posts
   ```
   - `_posts/*.md` ì½ê¸°
   - Front Matter íŒŒì‹±
   - `public/data/posts-meta.json` ìƒì„±
   - `public/data/categories.json` ìƒì„±

5. **Verify Generated Metadata** âœ…
   - íŒŒì¼ ìƒì„± í™•ì¸
   - í¬ìŠ¤íŠ¸ ê°œìˆ˜ í™•ì¸
   - ì¹´í…Œê³ ë¦¬ ëª©ë¡ í™•ì¸

6. **Build Application** âœ…
   ```bash
   npm run build
   ```
   - Vite ë¹Œë“œ ì‹¤í–‰
   - `dist/` í´ë” ìƒì„±
   - `dist/_posts/` ë³µì‚¬
   - `dist/data/` ë©”íƒ€ë°ì´í„° ë³µì‚¬

7. **Verify Build Output** âœ…
   - `dist/` êµ¬ì¡° í™•ì¸
   - ë°ì´í„° íŒŒì¼ í™•ì¸
   - ë§ˆí¬ë‹¤ìš´ íŒŒì¼ í™•ì¸

8. **Deploy to GitHub Pages** âœ…
   - `dist/` í´ë”ë¥¼ GitHub Pagesì— ë°°í¬

---

## ğŸ“ í¬ìŠ¤íŠ¸ ì‘ì„± ë° ë°°í¬ ì›Œí¬í”Œë¡œìš°

### ë¡œì»¬ì—ì„œ ì‘ì„±

```bash
# 1. ìƒˆ í¬ìŠ¤íŠ¸ ì‘ì„±
vi _posts/2025-10-13-new-post.md

# 2. ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸
npm run dev

# 3. ë¹Œë“œ í…ŒìŠ¤íŠ¸
npm run build:posts
npm run build

# 4. Git ì»¤ë°‹ & í‘¸ì‹œ
git add _posts/2025-10-13-new-post.md
git commit -m "post: ìƒˆ í¬ìŠ¤íŠ¸ ì¶”ê°€"
git push origin main
```

### GitHub Actions ìë™ ì‹¤í–‰

```
push ê°ì§€
  â†“
ìë™ìœ¼ë¡œ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
  â†“
_posts/ ì½ê¸°
  â†“
posts-meta.json ìƒì„± âœ…
categories.json ìƒì„± âœ…
  â†“
ì•± ë¹Œë“œ & ë°°í¬ âœ…
```

---

## ğŸ” ë©”íƒ€ë°ì´í„° ìƒì„± ê³¼ì •

### posts-meta.json

```javascript
// scripts/build-posts.jsê°€ ì‹¤í–‰ë¨
_posts/*.md íŒŒì¼ ì½ê¸°
  â†“
ê° íŒŒì¼ì˜ Front Matter íŒŒì‹±
  â†“
ë©”íƒ€ë°ì´í„° ì¶”ì¶œ (title, date, category, tags, etc.)
  â†“
ë‚ ì§œìˆœ ì •ë ¬ (ìµœì‹ ìˆœ)
  â†“
public/data/posts-meta.json ì €ì¥
```

**ìƒì„±ë˜ëŠ” ë°ì´í„°:**
```json
[
  {
    "id": "2025-10-09-java-step1",
    "slug": "2025-10-09-java-step1",
    "filename": "2025-10-09-java-step1.md",
    "title": "Java ê¸°ì´ˆ ë‹¤ì§€ê¸°",
    "date": "2025-10-09",
    "category": "Language",
    "subcategory": "Java",
    "tags": ["Java", "ê¸°ì´ˆ"],
    "excerpt": "...",
    "author": "Geon Lee"
  }
]
```

### categories.json

```javascript
posts-meta.json ë¶„ì„
  â†“
ì¹´í…Œê³ ë¦¬ë³„ í†µê³„ ê³„ì‚°
  â†“
ì„œë¸Œì¹´í…Œê³ ë¦¬ ê·¸ë£¹í•‘
  â†“
CATEGORY_CONFIGì™€ ë³‘í•©
  â†“
public/data/categories.json ì €ì¥
```

**ìƒì„±ë˜ëŠ” ë°ì´í„°:**
```json
[
  {
    "id": "Language",
    "name": "Programming Language",
    "icon": "ğŸ“",
    "description": "í”„ë¡œê·¸ë˜ë° ì–¸ì–´",
    "count": 4,
    "subcategories": [
      {
        "id": "Java",
        "name": "Java",
        "count": 2
      }
    ]
  }
]
```

---

## ğŸ› ï¸ ë°°í¬ ë¡œê·¸ í™•ì¸

### GitHub Actions ë¡œê·¸ ì˜ˆì‹œ

```
ğŸ“ Generating posts-meta.json and categories.json from _posts/...
âœ… Built 13 post(s)
ğŸ“ Posts metadata: /path/to/posts-meta.json
ğŸ“ Markdown files: /path/to/_posts

ğŸ“Š Building categories...
âœ… Built categories
   ğŸ’» Computer Science: 2 posts
      â””â”€ Algorithm: 1 posts
      â””â”€ Structure: 1 posts
   ğŸ“ Programming Language: 4 posts
      â””â”€ Java: 2 posts
   ...
âœ… Metadata generation complete

ğŸ” Verifying generated files...
ğŸ“ posts-meta.json: 50K
ğŸ“ categories.json: 2.5K
ğŸ“Š Posts count: 13
ğŸ“Š Categories: ["Computer Science", "Programming Language", ...]
âœ… Metadata verification complete

ğŸ—ï¸  Building application...
vite v6.3.5 building for production...
âœ“ built in 1.20s
âœ… Copied _posts to dist/_posts
âœ… Build complete
```

---

## ğŸ”§ ë¬¸ì œ í•´ê²°

### ë©”íƒ€ë°ì´í„°ê°€ ìƒì„±ë˜ì§€ ì•ŠëŠ” ê²½ìš°

**ì¦ìƒ:**
```
Error: posts-meta.json not found
```

**ì›ì¸:**
1. `_posts/` í´ë”ì— ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì´ ì—†ìŒ
2. Front Matter í˜•ì‹ ì˜¤ë¥˜
3. ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì‹¤íŒ¨

**í•´ê²°:**
```bash
# ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸
npm run build:posts

# ì˜¤ë¥˜ í™•ì¸
cat _posts/2025-10-13-new-post.md

# Front Matter í˜•ì‹ í™•ì¸
---
title: "ì œëª©"
date: "2025-10-13"
category: "Language"
---
```

### ì¹´í…Œê³ ë¦¬ê°€ í‘œì‹œë˜ì§€ ì•ŠëŠ” ê²½ìš°

**ì›ì¸:**
- `category` ê°’ì´ `CATEGORY_CONFIG`ì˜ `id`ì™€ ë¶ˆì¼ì¹˜

**í•´ê²°:**
```javascript
// scripts/build-posts.js í™•ì¸
const CATEGORY_CONFIG = [
  { id: 'Language', name: '...', ... },
  // ...
];

// Front Matterì—ì„œë„ ì •í™•íˆ ì¼ì¹˜í•´ì•¼ í•¨
category: "Language"  // âœ… ëŒ€ì†Œë¬¸ì ì •í™•íˆ
```

---

## ğŸ“Š ë°°í¬ ìƒíƒœ í™•ì¸

### GitHub Actions íƒ­
1. GitHub ì €ì¥ì†Œ ì ‘ì†
2. "Actions" íƒ­ í´ë¦­
3. ìµœì‹  ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ í™•ì¸
4. ê° ë‹¨ê³„ë³„ ë¡œê·¸ í™•ì¸

### ë°°í¬ëœ ì‚¬ì´íŠ¸ í™•ì¸
```
https://krongdev.github.io
```

### API ì—”ë“œí¬ì¸íŠ¸ í™•ì¸
```bash
# ë©”íƒ€ë°ì´í„° í™•ì¸
curl https://krongdev.github.io/data/posts-meta.json

# ì¹´í…Œê³ ë¦¬ í™•ì¸
curl https://krongdev.github.io/data/categories.json
```

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

### í¬ìŠ¤íŠ¸ ì‘ì„± ì „
- [ ] `_posts/` í´ë” ì¡´ì¬ í™•ì¸
- [ ] íŒŒì¼ëª… í˜•ì‹: `YYYY-MM-DD-slug.md`

### í¬ìŠ¤íŠ¸ ì‘ì„± ì‹œ
- [ ] Front Matter ì •í™•íˆ ì‘ì„±
- [ ] `category` ê°’ `CATEGORY_CONFIG`ì™€ ì¼ì¹˜
- [ ] í•„ìˆ˜ í•„ë“œ í¬í•¨ (title, date, category, excerpt)

### ë°°í¬ ì „
- [ ] ë¡œì»¬ì—ì„œ ë¹Œë“œ í…ŒìŠ¤íŠ¸: `npm run build:posts`
- [ ] ë¡œì»¬ì—ì„œ ì•± í…ŒìŠ¤íŠ¸: `npm run dev`
- [ ] Git ì»¤ë°‹ ë©”ì‹œì§€ ì‘ì„±

### ë°°í¬ í›„
- [ ] GitHub Actions ë¡œê·¸ í™•ì¸
- [ ] ë°°í¬ëœ ì‚¬ì´íŠ¸ í™•ì¸
- [ ] ë©”íƒ€ë°ì´í„° API í™•ì¸

---

## ğŸš€ ê³ ê¸‰ ì„¤ì •

### íŠ¹ì • ê²½ë¡œë§Œ ë°°í¬ íŠ¸ë¦¬ê±°

```yaml
on:
  push:
    branches: ['main']
    paths:
      - '_posts/**'
      - 'src/**'
      - 'public/**'
```

### ë°°í¬ ì•Œë¦¼ ì¶”ê°€

```yaml
- name: Notify deployment
  if: success()
  run: |
    echo "âœ… Deployment successful!"
    # Slack, Discord ë“± ì›¹í›… ê°€ëŠ¥
```

### ìºì‹œ í™œìš©

```yaml
- name: Cache node modules
  uses: actions/cache@v3
  with:
    path: node_modules
    key: ${{ runner.os }}-node-${{ hashFiles('package-lock.json') }}
```

---

## ğŸ“– ìš”ì•½

### í•µì‹¬ í¬ì¸íŠ¸

1. **ìë™í™”**: `_posts/` í´ë”ë§Œ ê´€ë¦¬í•˜ë©´ ë¨
2. **ë©”íƒ€ë°ì´í„°**: Git push ì‹œ ìë™ ìƒì„±
3. **ê²€ì¦**: ê° ë‹¨ê³„ë§ˆë‹¤ ê²€ì¦ ë¡œì§ í¬í•¨
4. **íˆ¬ëª…ì„±**: ìƒì„¸í•œ ë¡œê·¸ë¡œ ë¬¸ì œ ì¶”ì  ìš©ì´

### ë°ì´í„° íë¦„

```
_posts/*.md (Git ê´€ë¦¬)
    â†“
npm run build:posts (ìë™ ì‹¤í–‰)
    â†“
posts-meta.json + categories.json (ìë™ ìƒì„±)
    â†“
npm run build (ì•± ë¹Œë“œ)
    â†“
dist/ (ë°°í¬)
```

### ê´€ë¦¬ í¬ì¸íŠ¸

âœ… **ê´€ë¦¬ í•„ìš”**: `_posts/*.md`  
âŒ **ê´€ë¦¬ ë¶ˆí•„ìš”**: `posts-meta.json`, `categories.json`  
ğŸ¤– **ìë™ ìƒì„±**: GitHub Actionsê°€ ì²˜ë¦¬

---

**ì´ì œ `_posts/` í´ë”ì— ë§ˆí¬ë‹¤ìš´ íŒŒì¼ë§Œ ì¶”ê°€í•˜ë©´ ìë™ìœ¼ë¡œ ë°°í¬ë©ë‹ˆë‹¤!** ğŸ‰

